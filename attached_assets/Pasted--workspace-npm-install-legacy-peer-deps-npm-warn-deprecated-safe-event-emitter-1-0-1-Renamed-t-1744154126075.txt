~/workspace$ npm install --legacy-peer-deps
npm warn deprecated safe-event-emitter@1.0.1: Renamed to @metamask/safe-event-emitter
npm warn deprecated @walletconnect/types@1.8.0: WalletConnect's v1 SDKs are now deprecated. Please upgrade to a v2 SDK. For details see: https://docs.walletconnect.com/
npm warn deprecated @esbuild-kit/esm-loader@2.6.5: Merged into tsx: https://tsx.is
npm warn deprecated har-validator@5.1.5: this library is no longer supported
npm warn deprecated level-errors@1.0.5: Superseded by abstract-level (https://github.com/Level/community#faq)
npm warn deprecated memdown@1.4.1: Superseded by memory-level (https://github.com/Level/community#faq)
npm warn deprecated eth-json-rpc-infura@5.1.0: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.
npm warn deprecated eth-sig-util@1.4.2: Deprecated in favor of '@metamask/eth-sig-util'
npm warn deprecated @walletconnect/mobile-registry@1.4.0: Deprecated in favor of dynamic registry available from: https://github.com/walletconnect/walletconnect-registry
npm warn deprecated @esbuild-kit/core-utils@3.3.2: Merged into tsx: https://tsx.is
npm warn deprecated deferred-leveldown@1.2.2: Superseded by abstract-level (https://github.com/Level/community#faq)
npm warn deprecated ethereumjs-block@2.2.2: New package name format for new versions: @ethereumjs/block. Please update.
npm warn deprecated level-codec@7.0.1: Superseded by level-transcoder (https://github.com/Level/community#faq)
npm warn deprecated ethereumjs-tx@2.1.2: New package name format for new versions: @ethereumjs/tx. Please update.
npm warn deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
npm warn deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm warn deprecated @walletconnect/client@1.8.0: WalletConnect's v1 SDKs are now deprecated. Please upgrade to a v2 SDK. For details see: https://docs.walletconnect.com/
npm warn deprecated ethereumjs-tx@1.3.7: New package name format for new versions: @ethereumjs/tx. Please update.
npm warn deprecated abstract-leveldown@2.7.2: Superseded by abstract-level (https://github.com/Level/community#faq)
npm warn deprecated abstract-leveldown@2.6.3: Superseded by abstract-level (https://github.com/Level/community#faq)
npm warn deprecated ethereumjs-vm@2.6.0: New package name format for new versions: @ethereumjs/vm. Please update.
npm warn deprecated levelup@1.3.9: Superseded by abstract-level (https://github.com/Level/community#faq)
npm warn deprecated ethereumjs-block@1.7.1: New package name format for new versions: @ethereumjs/block. Please update.
npm warn deprecated @walletconnect/web3-provider@1.8.0: WalletConnect's v1 SDKs are now deprecated. Please upgrade to a v2 SDK. For details see: https://docs.walletconnect.com/
npm warn deprecated @walletconnect/qrcode-modal@1.8.0: WalletConnect's v1 SDKs are now deprecated. Please upgrade to a v2 SDK. For details see: https://docs.walletconnect.com/
npm warn deprecated ethereumjs-common@1.5.2: New package name format for new versions: @ethereumjs/common. Please update.
npm warn deprecated web3-provider-engine@16.0.1: This package has been deprecated, see the README for details: https://github.com/MetaMask/web3-provider-engine

added 853 packages, and audited 854 packages in 51s

87 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (7 moderate, 13 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
~/workspace$ npm list @solana/wallet-adapter-wallets
rest-express@1.0.0 /home/runner/workspace
└── (empty)

~/workspace$ npm install \
  @solana/wallet-adapter-base \
  @solana/wallet-adapter-react \
  @solana/wallet-adapter-wallets \
  @solana/wallet-adapter-react-ui \
  --legacy-peer-deps
npm warn deprecated uuidv4@6.2.13: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.
npm warn deprecated @toruslabs/openlogin-utils@3.0.0: Not supported. Pls upgrade
npm warn deprecated @toruslabs/openlogin-jrpc@3.2.0: Not supported. Pls upgrade
npm warn cleanup Failed to remove some directories [
npm warn cleanup   [
npm warn cleanup     '/home/runner/workspace/node_modules/tiny-secp256k1',
npm warn cleanup     [Error: ENOTEMPTY: directory not empty, rmdir '/home/runner/workspace/node_modules/tiny-secp256k1/build/Release'] {
npm warn cleanup       errno: -39,
npm warn cleanup       code: 'ENOTEMPTY',
npm warn cleanup       syscall: 'rmdir',
npm warn cleanup       path: '/home/runner/workspace/node_modules/tiny-secp256k1/build/Release'
npm warn cleanup     }
npm warn cleanup   ]
npm warn cleanup ]
npm error code 1
npm error path /home/runner/workspace/node_modules/usb
npm error command failed
npm error command sh -c node-gyp-build
npm error make: Entering directory '/home/runner/workspace/node_modules/usb/build'
npm error   CC(target) Release/obj.target/libusb/libusb/libusb/core.o
npm error   CC(target) Release/obj.target/libusb/libusb/libusb/descriptor.o
npm error   CC(target) Release/obj.target/libusb/libusb/libusb/hotplug.o
npm error   CC(target) Release/obj.target/libusb/libusb/libusb/io.o
npm error   CC(target) Release/obj.target/libusb/libusb/libusb/strerror.o
npm error   CC(target) Release/obj.target/libusb/libusb/libusb/sync.o
npm error   CC(target) Release/obj.target/libusb/libusb/libusb/os/events_posix.o
npm error   CC(target) Release/obj.target/libusb/libusb/libusb/os/threads_posix.o
npm error   CC(target) Release/obj.target/libusb/libusb/libusb/os/linux_usbfs.o
npm error   CC(target) Release/obj.target/libusb/libusb/libusb/os/linux_udev.o
npm error make: Leaving directory '/home/runner/workspace/node_modules/usb/build'
npm error gyp info it worked if it ends with ok
npm error gyp info using node-gyp@10.1.0
npm error gyp info using node@20.18.1 | linux | x64
npm error gyp info find Python using Python version 3.11.10 found at "/nix/store/wqhkxzzlaswkj3gimqign99sshvllcg6-python-wrapped-0.1.0/bin/python3"
npm error gyp info spawn /nix/store/wqhkxzzlaswkj3gimqign99sshvllcg6-python-wrapped-0.1.0/bin/python3
npm error gyp info spawn args [
npm error gyp info spawn args '/nix/store/wfxq6w9bkp5dcfr8yb6789b0w7128gnb-nodejs-20.18.1/lib/node_modules/npm/node_modules/node-gyp/gyp/gyp_main.py',
npm error gyp info spawn args 'binding.gyp',
npm error gyp info spawn args '-f',
npm error gyp info spawn args 'make',
npm error gyp info spawn args '-I',
npm error gyp info spawn args '/home/runner/workspace/node_modules/usb/build/config.gypi',
npm error gyp info spawn args '-I',
npm error gyp info spawn args '/nix/store/wfxq6w9bkp5dcfr8yb6789b0w7128gnb-nodejs-20.18.1/lib/node_modules/npm/node_modules/node-gyp/addon.gypi',
npm error gyp info spawn args '-I',
npm error gyp info spawn args '/home/runner/workspace/.cache/node-gyp/20.18.1/include/node/common.gypi',
npm error gyp info spawn args '-Dlibrary=shared_library',
npm error gyp info spawn args '-Dvisibility=default',
npm error gyp info spawn args '-Dnode_root_dir=/home/runner/workspace/.cache/node-gyp/20.18.1',
npm error gyp info spawn args '-Dnode_gyp_dir=/nix/store/wfxq6w9bkp5dcfr8yb6789b0w7128gnb-nodejs-20.18.1/lib/node_modules/npm/node_modules/node-gyp',
npm error gyp info spawn args '-Dnode_lib_file=/home/runner/workspace/.cache/node-gyp/20.18.1/<(target_arch)/node.lib',
npm error gyp info spawn args '-Dmodule_root_dir=/home/runner/workspace/node_modules/usb',
npm error gyp info spawn args '-Dnode_engine=v8',
npm error gyp info spawn args '--depth=.',
npm error gyp info spawn args '--no-parallel',
npm error gyp info spawn args '--generator-output',
npm error gyp info spawn args 'build',
npm error gyp info spawn args '-Goutput_dir=.'
npm error gyp info spawn args ]
npm error gyp info spawn make
npm error gyp info spawn args [ 'BUILDTYPE=Release', '-C', 'build' ]
npm error ../libusb/libusb/os/linux_udev.c:28:10: fatal error: libudev.h: No such file or directory
npm error    28 | #include <libudev.h>
npm error       |          ^~~~~~~~~~~
npm error compilation terminated.
npm error make: *** [libusb.target.mk:149: Release/obj.target/libusb/libusb/libusb/os/linux_udev.o] Error 1
npm error gyp ERR! build error 
npm error gyp ERR! stack Error: `make` failed with exit code: 2
npm error gyp ERR! stack at ChildProcess.<anonymous> (/nix/store/wfxq6w9bkp5dcfr8yb6789b0w7128gnb-nodejs-20.18.1/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:209:23)
npm error gyp ERR! System Linux 6.2.16
npm error gyp ERR! command "/nix/store/wfxq6w9bkp5dcfr8yb6789b0w7128gnb-nodejs-20.18.1/bin/node" "/nix/store/wfxq6w9bkp5dcfr8yb6789b0w7128gnb-nodejs-20.18.1/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
npm error gyp ERR! cwd /home/runner/workspace/node_modules/usb
npm error gyp ERR! node -v v20.18.1
npm error gyp ERR! node-gyp -v v10.1.0
npm error gyp ERR! not ok
npm error A complete log of this run can be found in: /home/runner/.npm/_logs/2025-04-08T23_14_37_720Z-debug-0.log